2021-04-25 16:36:28.927 +05:30 [INF] User profile is available. Using 'C:\Users\AMITANAND\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-25 16:36:29.512 +05:30 [INF] Creating key {f70da67a-7ea9-47a4-abbc-9f954435586b} with creation date 2021-04-25 11:06:29Z, activation date 2021-04-25 11:06:29Z, and expiration date 2021-07-24 11:06:29Z.
2021-04-25 16:36:30.231 +05:30 [INF] Writing data to file 'C:\Users\AMITANAND\AppData\Local\ASP.NET\DataProtection-Keys\key-f70da67a-7ea9-47a4-abbc-9f954435586b.xml'.
2021-04-25 16:36:38.475 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2021-04-25 16:36:38.482 +05:30 [INF] Hosting environment: Development
2021-04-25 16:36:38.489 +05:30 [INF] Content root path: D:\Projects\DotNetCore.WebAPI.Authentication\DotNetCore.WebAPI.Authentication\TokenBasedAuthentication
2021-04-25 16:36:39.100 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:44383/weatherforecast  
2021-04-25 16:36:39.449 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 16:36:41.628 +05:30 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[TokenBasedAuthentication.Models.WeatherForecast] Get() on controller TokenBasedAuthentication.Controllers.WeatherForecastController (TokenBasedAuthentication).
2021-04-25 16:36:41.642 +05:30 [INF] Executing ObjectResult, writing value of type 'TokenBasedAuthentication.Models.WeatherForecast[]'.
2021-04-25 16:36:42.901 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication) in 1259.0339ms
2021-04-25 16:36:42.931 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 16:36:42.939 +05:30 [INF] Request finished in 3843.1233ms 200 application/json; charset=utf-8
2021-04-25 16:36:43.101 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:44383/favicon.ico  
2021-04-25 16:36:43.113 +05:30 [INF] Request finished in 12.7761ms 404 
2021-04-25 16:44:18.910 +05:30 [INF] User profile is available. Using 'C:\Users\AMITANAND\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-25 16:44:19.340 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2021-04-25 16:44:19.345 +05:30 [INF] Hosting environment: Development
2021-04-25 16:44:19.349 +05:30 [INF] Content root path: D:\Projects\DotNetCore.WebAPI.Authentication\DotNetCore.WebAPI.Authentication\TokenBasedAuthentication
2021-04-25 16:44:19.374 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:44383/weatherforecast  
2021-04-25 16:44:19.423 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 16:44:19.474 +05:30 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[TokenBasedAuthentication.Models.WeatherForecast] Get() on controller TokenBasedAuthentication.Controllers.WeatherForecastController (TokenBasedAuthentication).
2021-04-25 16:44:19.495 +05:30 [INF] Executing ObjectResult, writing value of type 'TokenBasedAuthentication.Models.WeatherForecast[]'.
2021-04-25 16:44:19.556 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication) in 61.2075ms
2021-04-25 16:44:19.566 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 16:44:19.579 +05:30 [INF] Request finished in 207.9171ms 200 application/json; charset=utf-8
2021-04-25 16:49:40.369 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:44383/weatherforecast  
2021-04-25 16:49:40.374 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 16:49:40.378 +05:30 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[TokenBasedAuthentication.Models.WeatherForecast] Get() on controller TokenBasedAuthentication.Controllers.WeatherForecastController (TokenBasedAuthentication).
2021-04-25 16:49:40.385 +05:30 [INF] Executing ObjectResult, writing value of type 'TokenBasedAuthentication.Models.WeatherForecast[]'.
2021-04-25 16:49:40.388 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication) in 7.9509ms
2021-04-25 16:49:40.392 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 16:49:40.397 +05:30 [INF] Request finished in 28.5928ms 200 application/json; charset=utf-8
2021-04-25 16:51:53.937 +05:30 [INF] User profile is available. Using 'C:\Users\AMITANAND\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-25 16:51:54.366 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2021-04-25 16:51:54.372 +05:30 [INF] Hosting environment: Development
2021-04-25 16:51:54.380 +05:30 [INF] Content root path: D:\Projects\DotNetCore.WebAPI.Authentication\DotNetCore.WebAPI.Authentication\TokenBasedAuthentication
2021-04-25 16:51:54.407 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 16:51:54.439 +05:30 [WRN] Failed to determine the https port for redirect.
2021-04-25 16:51:54.492 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 16:51:54.541 +05:30 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[TokenBasedAuthentication.Models.WeatherForecast] Get() on controller TokenBasedAuthentication.Controllers.WeatherForecastController (TokenBasedAuthentication).
2021-04-25 16:51:54.551 +05:30 [INF] Executing ObjectResult, writing value of type 'TokenBasedAuthentication.Models.WeatherForecast[]'.
2021-04-25 16:51:54.605 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication) in 53.3528ms
2021-04-25 16:51:54.614 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 16:51:54.626 +05:30 [INF] Request finished in 225.1541ms 200 application/json; charset=utf-8
2021-04-25 16:51:54.662 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/favicon.ico  
2021-04-25 16:51:54.672 +05:30 [INF] Request finished in 9.0392ms 404 
2021-04-25 16:52:30.182 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Register application/json 97
2021-04-25 16:52:30.188 +05:30 [INF] Request finished in 7.0131ms 404 
2021-04-25 16:53:15.454 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/Register application/json 97
2021-04-25 16:53:15.460 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync (TokenBasedAuthentication)'
2021-04-25 16:53:15.555 +05:30 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(TokenBasedAuthentication.Models.Register) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 16:53:16.253 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2021-04-25 16:53:16.259 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync (TokenBasedAuthentication) in 700.6976ms
2021-04-25 16:53:16.262 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync (TokenBasedAuthentication)'
2021-04-25 16:53:16.267 +05:30 [INF] Request finished in 813.9506ms 400 application/problem+json; charset=utf-8
2021-04-25 16:53:55.582 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/Register application/json 114
2021-04-25 16:53:55.589 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync (TokenBasedAuthentication)'
2021-04-25 16:53:55.592 +05:30 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(TokenBasedAuthentication.Models.Register) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 16:54:20.103 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 16:54:20.772 +05:30 [INF] Executed DbCommand (187ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 16:54:32.428 +05:30 [WRN] User 66ccc901-4375-4437-b384-17966ca7d6a4 password validation failed: PasswordRequiresNonAlphanumeric;PasswordRequiresDigit;PasswordRequiresUpper.
2021-04-25 16:54:33.484 +05:30 [INF] Executed DbCommand (45ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-04-25 16:54:34.561 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-04-25 16:54:34.834 +05:30 [INF] Executed DbCommand (35ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2021-04-25 16:54:46.430 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync (TokenBasedAuthentication) in 50833.1304ms
2021-04-25 16:54:46.435 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync (TokenBasedAuthentication)'
2021-04-25 16:54:47.021 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync(Register user) in D:\Projects\DotNetCore.WebAPI.Authentication\DotNetCore.WebAPI.Authentication\TokenBasedAuthentication\Controllers\AuthenticationController.cs:line 80
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-04-25 16:54:47.120 +05:30 [INF] Request finished in 51535.9386ms 500 text/plain
2021-04-25 16:55:47.025 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/Register application/json 114
2021-04-25 16:55:47.031 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync (TokenBasedAuthentication)'
2021-04-25 16:55:47.038 +05:30 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(TokenBasedAuthentication.Models.Register) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 16:55:50.374 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 16:55:50.380 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 16:56:19.553 +05:30 [WRN] User 64a35172-ed6d-46ec-98a9-a76a9b45f63c password validation failed: PasswordRequiresNonAlphanumeric;PasswordRequiresDigit;PasswordRequiresUpper.
2021-04-25 16:56:43.087 +05:30 [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-04-25 16:56:46.027 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync (TokenBasedAuthentication) in 58981.5863ms
2021-04-25 16:56:46.031 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync (TokenBasedAuthentication)'
2021-04-25 16:56:46.045 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync(Register user) in D:\Projects\DotNetCore.WebAPI.Authentication\DotNetCore.WebAPI.Authentication\TokenBasedAuthentication\Controllers\AuthenticationController.cs:line 80
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-04-25 16:56:46.055 +05:30 [INF] Request finished in 59027.5906ms 500 text/plain
2021-04-25 16:57:04.770 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/Register application/json 117
2021-04-25 16:57:04.775 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync (TokenBasedAuthentication)'
2021-04-25 16:57:04.780 +05:30 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(TokenBasedAuthentication.Models.Register) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 16:57:07.587 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 16:57:07.603 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 16:57:12.137 +05:30 [WRN] User 4f0664b4-e5ee-430f-8c54-dbbe3d498959 password validation failed: PasswordRequiresNonAlphanumeric.
2021-04-25 16:57:20.672 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-04-25 16:57:21.765 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync (TokenBasedAuthentication) in 16980.6591ms
2021-04-25 16:57:21.770 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync (TokenBasedAuthentication)'
2021-04-25 16:57:21.782 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync(Register user) in D:\Projects\DotNetCore.WebAPI.Authentication\DotNetCore.WebAPI.Authentication\TokenBasedAuthentication\Controllers\AuthenticationController.cs:line 80
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-04-25 16:57:21.791 +05:30 [INF] Request finished in 17020.6911ms 500 text/plain
2021-04-25 16:57:39.307 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/Register application/json 118
2021-04-25 16:57:39.311 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync (TokenBasedAuthentication)'
2021-04-25 16:57:39.314 +05:30 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(TokenBasedAuthentication.Models.Register) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 16:57:43.211 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 16:57:43.267 +05:30 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 16:57:48.068 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 16:57:48.182 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2021-04-25 16:57:51.473 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-04-25 16:57:53.960 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-04-25 16:57:56.222 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-04-25 16:57:56.249 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2021-04-25 16:57:56.259 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-04-25 16:57:56.281 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 16:57:56.312 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([UserId], [RoleId])
VALUES (@p0, @p1);
2021-04-25 16:57:56.343 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;
2021-04-25 16:58:07.054 +05:30 [INF] Executing ObjectResult, writing value of type 'TokenBasedAuthentication.Models.BaseResponse'.
2021-04-25 16:58:07.100 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync (TokenBasedAuthentication) in 27783.424ms
2021-04-25 16:58:07.108 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync (TokenBasedAuthentication)'
2021-04-25 16:58:07.123 +05:30 [INF] Request finished in 27815.6195ms 500 application/json; charset=utf-8
2021-04-25 17:00:51.353 +05:30 [INF] User profile is available. Using 'C:\Users\AMITANAND\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-25 17:00:51.818 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2021-04-25 17:00:51.824 +05:30 [INF] Hosting environment: Development
2021-04-25 17:00:51.832 +05:30 [INF] Content root path: D:\Projects\DotNetCore.WebAPI.Authentication\DotNetCore.WebAPI.Authentication\TokenBasedAuthentication
2021-04-25 17:00:51.867 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 17:00:51.893 +05:30 [WRN] Failed to determine the https port for redirect.
2021-04-25 17:00:51.948 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 17:00:52.002 +05:30 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[TokenBasedAuthentication.Models.WeatherForecast] Get() on controller TokenBasedAuthentication.Controllers.WeatherForecastController (TokenBasedAuthentication).
2021-04-25 17:00:52.013 +05:30 [INF] Executing ObjectResult, writing value of type 'TokenBasedAuthentication.Models.WeatherForecast[]'.
2021-04-25 17:00:52.061 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication) in 47.5606ms
2021-04-25 17:00:52.070 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 17:00:52.080 +05:30 [INF] Request finished in 217.4636ms 200 application/json; charset=utf-8
2021-04-25 17:01:09.105 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/SignIn application/json 62
2021-04-25 17:01:09.113 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 17:01:09.155 +05:30 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(TokenBasedAuthentication.Models.SignIn) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 17:01:13.851 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 17:01:14.359 +05:30 [INF] Executed DbCommand (124ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 17:03:27.080 +05:30 [INF] User profile is available. Using 'C:\Users\AMITANAND\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-25 17:03:27.479 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2021-04-25 17:03:27.484 +05:30 [INF] Hosting environment: Development
2021-04-25 17:03:27.488 +05:30 [INF] Content root path: D:\Projects\DotNetCore.WebAPI.Authentication\DotNetCore.WebAPI.Authentication\TokenBasedAuthentication
2021-04-25 17:03:27.513 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 17:03:27.535 +05:30 [WRN] Failed to determine the https port for redirect.
2021-04-25 17:03:27.574 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 17:03:27.633 +05:30 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[TokenBasedAuthentication.Models.WeatherForecast] Get() on controller TokenBasedAuthentication.Controllers.WeatherForecastController (TokenBasedAuthentication).
2021-04-25 17:03:27.654 +05:30 [INF] Executing ObjectResult, writing value of type 'TokenBasedAuthentication.Models.WeatherForecast[]'.
2021-04-25 17:03:27.708 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication) in 55.345ms
2021-04-25 17:03:27.713 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 17:03:27.720 +05:30 [INF] Request finished in 210.5121ms 200 application/json; charset=utf-8
2021-04-25 17:03:36.596 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/SignIn application/json 62
2021-04-25 17:03:36.602 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 17:03:36.631 +05:30 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(TokenBasedAuthentication.Models.SignIn) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 17:03:41.029 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 17:03:41.534 +05:30 [INF] Executed DbCommand (61ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 17:03:44.612 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-04-25 17:11:08.250 +05:30 [INF] User profile is available. Using 'C:\Users\AMITANAND\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-25 17:11:08.710 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2021-04-25 17:11:08.715 +05:30 [INF] Hosting environment: Development
2021-04-25 17:11:08.720 +05:30 [INF] Content root path: D:\Projects\DotNetCore.WebAPI.Authentication\DotNetCore.WebAPI.Authentication\TokenBasedAuthentication
2021-04-25 17:11:08.743 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 17:11:08.765 +05:30 [WRN] Failed to determine the https port for redirect.
2021-04-25 17:11:08.807 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 17:11:08.860 +05:30 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[TokenBasedAuthentication.Models.WeatherForecast] Get() on controller TokenBasedAuthentication.Controllers.WeatherForecastController (TokenBasedAuthentication).
2021-04-25 17:11:08.877 +05:30 [INF] Executing ObjectResult, writing value of type 'TokenBasedAuthentication.Models.WeatherForecast[]'.
2021-04-25 17:11:08.923 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication) in 49.4087ms
2021-04-25 17:11:08.930 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 17:11:08.939 +05:30 [INF] Request finished in 200.3293ms 200 application/json; charset=utf-8
2021-04-25 17:11:12.885 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/SignIn application/json 62
2021-04-25 17:11:12.899 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 17:11:12.942 +05:30 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(TokenBasedAuthentication.Models.SignIn) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 17:11:16.962 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 17:11:17.399 +05:30 [INF] Executed DbCommand (87ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 17:11:20.471 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-04-25 17:16:30.417 +05:30 [INF] User profile is available. Using 'C:\Users\AMITANAND\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-25 17:16:30.871 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2021-04-25 17:16:30.881 +05:30 [INF] Hosting environment: Development
2021-04-25 17:16:30.886 +05:30 [INF] Content root path: D:\Projects\DotNetCore.WebAPI.Authentication\DotNetCore.WebAPI.Authentication\TokenBasedAuthentication
2021-04-25 17:16:30.905 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 17:16:30.928 +05:30 [WRN] Failed to determine the https port for redirect.
2021-04-25 17:16:30.976 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 17:16:31.023 +05:30 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[TokenBasedAuthentication.Models.WeatherForecast] Get() on controller TokenBasedAuthentication.Controllers.WeatherForecastController (TokenBasedAuthentication).
2021-04-25 17:16:31.034 +05:30 [INF] Executing ObjectResult, writing value of type 'TokenBasedAuthentication.Models.WeatherForecast[]'.
2021-04-25 17:16:31.089 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication) in 54.7837ms
2021-04-25 17:16:31.101 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 17:16:31.110 +05:30 [INF] Request finished in 210.2622ms 200 application/json; charset=utf-8
2021-04-25 17:16:35.060 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/SignIn application/json 62
2021-04-25 17:16:35.067 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 17:16:35.104 +05:30 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(TokenBasedAuthentication.Models.SignIn) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 17:16:43.384 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 17:16:43.860 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 17:16:44.087 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-04-25 17:17:12.556 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication) in 37447.3714ms
2021-04-25 17:17:12.562 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 17:17:12.669 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at TokenBasedAuthentication.Utilities.TokenHelper.GetSecurityToken(List`1 claims) in D:\Projects\DotNetCore.WebAPI.Authentication\DotNetCore.WebAPI.Authentication\TokenBasedAuthentication\Utilities\TokenHelper.cs:line 23
   at TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync(SignIn credentials) in D:\Projects\DotNetCore.WebAPI.Authentication\DotNetCore.WebAPI.Authentication\TokenBasedAuthentication\Controllers\AuthenticationController.cs:line 60
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-04-25 17:17:12.706 +05:30 [INF] Request finished in 37645.9506ms 500 text/plain
2021-04-25 17:17:30.669 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/SignIn application/json 62
2021-04-25 17:17:30.674 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 17:17:30.678 +05:30 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(TokenBasedAuthentication.Models.SignIn) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 17:28:38.255 +05:30 [INF] User profile is available. Using 'C:\Users\AMITANAND\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-25 17:28:38.659 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2021-04-25 17:28:38.665 +05:30 [INF] Hosting environment: Development
2021-04-25 17:28:38.670 +05:30 [INF] Content root path: D:\Projects\DotNetCore.WebAPI.Authentication\DotNetCore.WebAPI.Authentication\TokenBasedAuthentication
2021-04-25 17:28:38.701 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 17:28:38.725 +05:30 [WRN] Failed to determine the https port for redirect.
2021-04-25 17:28:38.777 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 17:28:38.824 +05:30 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[TokenBasedAuthentication.Models.WeatherForecast] Get() on controller TokenBasedAuthentication.Controllers.WeatherForecastController (TokenBasedAuthentication).
2021-04-25 17:28:38.834 +05:30 [INF] Executing ObjectResult, writing value of type 'TokenBasedAuthentication.Models.WeatherForecast[]'.
2021-04-25 17:28:38.880 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication) in 45.9083ms
2021-04-25 17:28:38.888 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 17:28:38.897 +05:30 [INF] Request finished in 201.5822ms 200 application/json; charset=utf-8
2021-04-25 17:28:42.880 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/SignIn application/json 62
2021-04-25 17:28:42.887 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 17:28:42.920 +05:30 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(TokenBasedAuthentication.Models.SignIn) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 17:28:46.085 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 17:28:46.513 +05:30 [INF] Executed DbCommand (65ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 17:28:46.747 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-04-25 17:29:29.560 +05:30 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-04-25 17:29:29.697 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication) in 46771.8305ms
2021-04-25 17:29:29.701 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 17:29:29.711 +05:30 [INF] Request finished in 46829.3967ms 200 application/json; charset=utf-8
2021-04-25 17:32:45.986 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/Register application/json 97
2021-04-25 17:32:45.991 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync (TokenBasedAuthentication)'
2021-04-25 17:32:46.012 +05:30 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(TokenBasedAuthentication.Models.Register) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 17:32:49.509 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 17:32:49.520 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 17:32:55.464 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 17:32:55.748 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2021-04-25 17:33:01.129 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-04-25 17:33:03.126 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-04-25 17:33:03.203 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2021-04-25 17:33:06.661 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-04-25 17:33:08.581 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-04-25 17:33:08.639 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2021-04-25 17:33:08.647 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-04-25 17:33:08.665 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 17:33:08.687 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([UserId], [RoleId])
VALUES (@p0, @p1);
2021-04-25 17:33:08.694 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;
2021-04-25 17:33:24.588 +05:30 [INF] Executing ObjectResult, writing value of type 'TokenBasedAuthentication.Models.BaseResponse'.
2021-04-25 17:33:27.616 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync (TokenBasedAuthentication) in 41598.2068ms
2021-04-25 17:33:27.639 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync (TokenBasedAuthentication)'
2021-04-25 17:33:27.645 +05:30 [INF] Request finished in 41661.489ms 200 application/json; charset=utf-8
2021-04-25 17:35:40.946 +05:30 [INF] User profile is available. Using 'C:\Users\AMITANAND\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-25 17:35:41.343 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2021-04-25 17:35:41.348 +05:30 [INF] Hosting environment: Development
2021-04-25 17:35:41.354 +05:30 [INF] Content root path: D:\Projects\DotNetCore.WebAPI.Authentication\DotNetCore.WebAPI.Authentication\TokenBasedAuthentication
2021-04-25 17:35:41.380 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 17:35:41.402 +05:30 [WRN] Failed to determine the https port for redirect.
2021-04-25 17:35:41.458 +05:30 [INF] Authorization failed.
2021-04-25 17:35:41.739 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 17:35:41.762 +05:30 [INF] Request finished in 384.9497ms 401 
2021-04-25 17:37:51.141 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/SignIn application/json 62
2021-04-25 17:37:51.147 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 17:37:51.215 +05:30 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(TokenBasedAuthentication.Models.SignIn) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 17:37:52.110 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 17:37:52.561 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 17:37:52.779 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-04-25 17:37:52.995 +05:30 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-04-25 17:37:53.019 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication) in 1790.8729ms
2021-04-25 17:37:53.023 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 17:37:53.031 +05:30 [INF] Request finished in 1891.1414ms 200 application/json; charset=utf-8
2021-04-25 17:38:30.109 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 17:38:30.115 +05:30 [INF] Authorization failed.
2021-04-25 17:38:30.213 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateIssuer(String issuer, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-04-25 17:38:30.258 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 17:38:30.262 +05:30 [INF] Request finished in 154.539ms 401 
2021-04-25 17:39:07.676 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/SignIn application/json 50
2021-04-25 17:39:07.710 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 17:39:07.725 +05:30 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(TokenBasedAuthentication.Models.SignIn) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 17:39:07.787 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 17:39:07.802 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 17:39:07.833 +05:30 [WRN] Invalid password for user a8766464-fa43-4b16-9ebd-12e4a0b311ac.
2021-04-25 17:39:07.878 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-04-25 17:39:07.892 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication) in 164.0129ms
2021-04-25 17:39:07.911 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 17:39:07.926 +05:30 [INF] Request finished in 250.6037ms 401 application/problem+json; charset=utf-8
2021-04-25 17:39:51.499 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/SignIn application/json 50
2021-04-25 17:39:51.504 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 17:39:51.509 +05:30 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(TokenBasedAuthentication.Models.SignIn) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 17:39:51.557 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 17:39:51.566 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 17:39:51.596 +05:30 [WRN] Invalid password for user a8766464-fa43-4b16-9ebd-12e4a0b311ac.
2021-04-25 17:39:51.599 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-04-25 17:39:51.602 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication) in 87.4106ms
2021-04-25 17:39:51.615 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 17:39:51.619 +05:30 [INF] Request finished in 120.6375ms 401 application/problem+json; charset=utf-8
2021-04-25 17:40:35.534 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/SignIn application/json 50
2021-04-25 17:40:35.545 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 17:40:35.549 +05:30 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(TokenBasedAuthentication.Models.SignIn) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 17:40:54.327 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 17:40:54.388 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 17:40:56.153 +05:30 [WRN] Invalid password for user a8766464-fa43-4b16-9ebd-12e4a0b311ac.
2021-04-25 17:40:56.156 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-04-25 17:40:56.160 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication) in 20607.6344ms
2021-04-25 17:40:56.163 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 17:40:56.170 +05:30 [INF] Request finished in 20635.7504ms 401 application/problem+json; charset=utf-8
2021-04-25 17:41:24.434 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/SignIn application/json 50
2021-04-25 17:41:24.439 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 17:41:24.445 +05:30 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(TokenBasedAuthentication.Models.SignIn) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 17:41:27.283 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 17:41:27.346 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 17:41:28.699 +05:30 [WRN] Invalid password for user a8766464-fa43-4b16-9ebd-12e4a0b311ac.
2021-04-25 17:41:45.668 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-04-25 17:41:45.683 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication) in 21231.1038ms
2021-04-25 17:41:45.687 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 17:41:45.703 +05:30 [INF] Request finished in 21268.4832ms 401 application/problem+json; charset=utf-8
2021-04-25 17:41:51.370 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/SignIn application/json 50
2021-04-25 17:41:51.376 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 17:41:51.380 +05:30 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(TokenBasedAuthentication.Models.SignIn) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 17:41:53.685 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 17:41:53.703 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 17:41:53.737 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-04-25 17:41:53.744 +05:30 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-04-25 17:41:53.749 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication) in 2363.6846ms
2021-04-25 17:41:53.755 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 17:41:53.761 +05:30 [INF] Request finished in 2389.7757ms 200 application/json; charset=utf-8
2021-04-25 17:42:37.833 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 17:42:37.847 +05:30 [INF] Authorization failed.
2021-04-25 17:42:37.855 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateIssuer(String issuer, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-04-25 17:42:37.858 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 17:42:37.862 +05:30 [INF] Request finished in 27.6553ms 401 
2021-04-25 17:47:04.318 +05:30 [INF] User profile is available. Using 'C:\Users\AMITANAND\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-25 17:47:04.712 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2021-04-25 17:47:04.717 +05:30 [INF] Hosting environment: Development
2021-04-25 17:47:04.722 +05:30 [INF] Content root path: D:\Projects\DotNetCore.WebAPI.Authentication\DotNetCore.WebAPI.Authentication\TokenBasedAuthentication
2021-04-25 17:47:04.746 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 17:47:04.771 +05:30 [WRN] Failed to determine the https port for redirect.
2021-04-25 17:47:04.838 +05:30 [INF] Authorization failed.
2021-04-25 17:47:04.918 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 17:47:04.956 +05:30 [INF] Request finished in 211.3173ms 401 
2021-04-25 17:47:25.773 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/SignIn application/json 50
2021-04-25 17:47:25.783 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 17:47:25.857 +05:30 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(TokenBasedAuthentication.Models.SignIn) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 17:47:30.160 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 17:47:30.627 +05:30 [INF] Executed DbCommand (61ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 17:47:34.651 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-04-25 17:47:40.827 +05:30 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-04-25 17:47:40.859 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication) in 14989.0147ms
2021-04-25 17:47:40.865 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 17:47:40.872 +05:30 [INF] Request finished in 15098.9978ms 200 application/json; charset=utf-8
2021-04-25 17:48:28.670 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 17:48:28.681 +05:30 [INF] Authorization failed.
2021-04-25 17:48:28.750 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10204: Unable to validate issuer. validationParameters.ValidIssuer is null or whitespace AND validationParameters.ValidIssuers is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateIssuer(String issuer, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-04-25 17:48:28.789 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 17:48:28.793 +05:30 [INF] Request finished in 123.4859ms 401 
2021-04-25 17:57:43.340 +05:30 [INF] User profile is available. Using 'C:\Users\AMITANAND\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-25 17:57:43.726 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2021-04-25 17:57:43.732 +05:30 [INF] Hosting environment: Development
2021-04-25 17:57:43.738 +05:30 [INF] Content root path: D:\Projects\DotNetCore.WebAPI.Authentication\DotNetCore.WebAPI.Authentication\TokenBasedAuthentication
2021-04-25 17:57:43.760 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 17:57:43.782 +05:30 [WRN] Failed to determine the https port for redirect.
2021-04-25 17:57:43.849 +05:30 [INF] Authorization failed.
2021-04-25 17:57:43.936 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 17:57:43.962 +05:30 [INF] Request finished in 204.8485ms 401 
2021-04-25 17:57:47.707 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 17:57:47.713 +05:30 [INF] Authorization failed.
2021-04-25 17:57:47.960 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10205: Issuer validation failed. Issuer: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Did not match: validationParameters.ValidIssuer: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' or validationParameters.ValidIssuers: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuer(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateIssuer(String issuer, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-04-25 17:57:48.014 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 17:57:48.018 +05:30 [INF] Request finished in 311.3091ms 401 
2021-04-25 17:57:57.439 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/SignIn application/json 50
2021-04-25 17:57:57.451 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 17:57:57.522 +05:30 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(TokenBasedAuthentication.Models.SignIn) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 17:58:01.539 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 17:58:02.119 +05:30 [INF] Executed DbCommand (71ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 17:58:02.338 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-04-25 17:58:02.386 +05:30 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-04-25 17:58:02.410 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication) in 4875.888ms
2021-04-25 17:58:02.414 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 17:58:02.422 +05:30 [INF] Request finished in 4984.2626ms 200 application/json; charset=utf-8
2021-04-25 17:58:23.644 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 17:58:23.654 +05:30 [INF] Authorization failed.
2021-04-25 17:58:23.752 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 17:58:23.822 +05:30 [INF] Request finished in 178.3632ms 401 
2021-04-25 17:58:34.147 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 17:58:34.154 +05:30 [INF] Authorization failed.
2021-04-25 17:58:34.173 +05:30 [INF] Successfully validated the token.
2021-04-25 17:58:34.177 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 17:58:34.180 +05:30 [INF] Request finished in 33.292ms 401 
2021-04-25 17:59:31.766 +05:30 [INF] User profile is available. Using 'C:\Users\AMITANAND\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-25 17:59:32.160 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2021-04-25 17:59:32.164 +05:30 [INF] Hosting environment: Development
2021-04-25 17:59:32.170 +05:30 [INF] Content root path: D:\Projects\DotNetCore.WebAPI.Authentication\DotNetCore.WebAPI.Authentication\TokenBasedAuthentication
2021-04-25 17:59:32.198 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 17:59:32.224 +05:30 [WRN] Failed to determine the https port for redirect.
2021-04-25 17:59:32.291 +05:30 [INF] Authorization failed.
2021-04-25 17:59:32.386 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 17:59:32.417 +05:30 [INF] Request finished in 223.9474ms 401 
2021-04-25 17:59:37.053 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 17:59:37.061 +05:30 [INF] Authorization failed.
2021-04-25 17:59:37.316 +05:30 [INF] Successfully validated the token.
2021-04-25 17:59:37.320 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 17:59:37.325 +05:30 [INF] Request finished in 272.6377ms 401 
2021-04-25 18:01:43.627 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/Register application/json 101
2021-04-25 18:01:43.632 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync (TokenBasedAuthentication)'
2021-04-25 18:01:43.693 +05:30 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(TokenBasedAuthentication.Models.Register) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 18:01:44.604 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 18:01:45.031 +05:30 [INF] Executed DbCommand (63ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 18:01:45.121 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 18:01:45.357 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2021-04-25 18:01:45.398 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-04-25 18:01:45.423 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-04-25 18:01:45.437 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-04-25 18:01:45.466 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2021-04-25 18:01:45.473 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-04-25 18:01:45.491 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 18:01:45.521 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([UserId], [RoleId])
VALUES (@p0, @p1);
2021-04-25 18:01:45.528 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;
2021-04-25 18:01:45.542 +05:30 [INF] Executing ObjectResult, writing value of type 'TokenBasedAuthentication.Models.BaseResponse'.
2021-04-25 18:01:45.559 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync (TokenBasedAuthentication) in 1856.6131ms
2021-04-25 18:01:45.564 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync (TokenBasedAuthentication)'
2021-04-25 18:01:45.571 +05:30 [INF] Request finished in 1945.5016ms 200 application/json; charset=utf-8
2021-04-25 18:02:03.034 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/SignIn application/json 52
2021-04-25 18:02:03.042 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 18:02:03.067 +05:30 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(TokenBasedAuthentication.Models.SignIn) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 18:02:05.268 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 18:02:05.279 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 18:02:05.367 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-04-25 18:02:05.391 +05:30 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-04-25 18:02:05.397 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication) in 2327.2024ms
2021-04-25 18:02:05.400 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 18:02:05.404 +05:30 [INF] Request finished in 2371.1568ms 200 application/json; charset=utf-8
2021-04-25 18:02:21.715 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:02:21.727 +05:30 [INF] Authorization failed.
2021-04-25 18:02:21.735 +05:30 [INF] Successfully validated the token.
2021-04-25 18:02:21.739 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 18:02:21.742 +05:30 [INF] Request finished in 26.8568ms 401 
2021-04-25 18:08:04.313 +05:30 [INF] User profile is available. Using 'C:\Users\AMITANAND\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-25 18:08:04.708 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2021-04-25 18:08:04.716 +05:30 [INF] Hosting environment: Development
2021-04-25 18:08:04.721 +05:30 [INF] Content root path: D:\Projects\DotNetCore.WebAPI.Authentication\DotNetCore.WebAPI.Authentication\TokenBasedAuthentication
2021-04-25 18:08:04.741 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:08:04.766 +05:30 [WRN] Failed to determine the https port for redirect.
2021-04-25 18:08:04.828 +05:30 [INF] Authorization failed.
2021-04-25 18:08:04.918 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 18:08:04.946 +05:30 [INF] Request finished in 207.8496ms 401 
2021-04-25 18:09:52.739 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/Register application/json 101
2021-04-25 18:09:52.744 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync (TokenBasedAuthentication)'
2021-04-25 18:09:52.816 +05:30 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(TokenBasedAuthentication.Models.Register) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 18:09:57.069 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 18:09:57.561 +05:30 [INF] Executed DbCommand (88ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 18:10:00.342 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 18:10:00.587 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2021-04-25 18:10:00.629 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-04-25 18:10:00.651 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-04-25 18:10:00.662 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-04-25 18:10:00.688 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2021-04-25 18:10:00.695 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-04-25 18:10:00.720 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 18:10:00.746 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([UserId], [RoleId])
VALUES (@p0, @p1);
2021-04-25 18:10:00.755 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;
2021-04-25 18:10:07.188 +05:30 [INF] Executing ObjectResult, writing value of type 'TokenBasedAuthentication.Models.BaseResponse'.
2021-04-25 18:10:07.212 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync (TokenBasedAuthentication) in 14385.5245ms
2021-04-25 18:10:07.219 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync (TokenBasedAuthentication)'
2021-04-25 18:10:07.228 +05:30 [INF] Request finished in 14490.2226ms 200 application/json; charset=utf-8
2021-04-25 18:10:25.433 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/SignIn application/json 52
2021-04-25 18:10:25.437 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 18:10:25.452 +05:30 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(TokenBasedAuthentication.Models.SignIn) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 18:10:27.504 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 18:10:27.511 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 18:10:28.400 +05:30 [WRN] Invalid password for user 24dcdcdf-472b-4cfe-a611-18f5e45c9451.
2021-04-25 18:10:41.181 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-04-25 18:10:41.188 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication) in 15732.4581ms
2021-04-25 18:10:41.200 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 18:10:41.204 +05:30 [INF] Request finished in 15771.1599ms 401 application/problem+json; charset=utf-8
2021-04-25 18:10:44.407 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/SignIn application/json 52
2021-04-25 18:10:44.413 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 18:10:44.425 +05:30 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(TokenBasedAuthentication.Models.SignIn) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 18:10:46.316 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 18:10:46.323 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 18:10:49.035 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-04-25 18:11:49.320 +05:30 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-04-25 18:11:49.336 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication) in 64905.8ms
2021-04-25 18:11:49.339 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 18:11:49.356 +05:30 [INF] Request finished in 64947.8415ms 200 application/json; charset=utf-8
2021-04-25 18:12:15.534 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:12:15.543 +05:30 [INF] Authorization failed.
2021-04-25 18:12:15.619 +05:30 [INF] Successfully validated the token.
2021-04-25 18:12:15.623 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 18:12:15.625 +05:30 [INF] Request finished in 91.2ms 401 
2021-04-25 18:14:19.881 +05:30 [INF] User profile is available. Using 'C:\Users\AMITANAND\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-25 18:14:20.262 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2021-04-25 18:14:20.267 +05:30 [INF] Hosting environment: Development
2021-04-25 18:14:20.272 +05:30 [INF] Content root path: D:\Projects\DotNetCore.WebAPI.Authentication\DotNetCore.WebAPI.Authentication\TokenBasedAuthentication
2021-04-25 18:14:20.300 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:14:20.321 +05:30 [WRN] Failed to determine the https port for redirect.
2021-04-25 18:14:20.372 +05:30 [INF] Authorization failed.
2021-04-25 18:14:20.466 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 18:14:20.493 +05:30 [INF] Request finished in 198.3494ms 401 
2021-04-25 18:14:26.791 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:14:26.798 +05:30 [INF] Authorization failed.
2021-04-25 18:14:27.039 +05:30 [INF] Successfully validated the token.
2021-04-25 18:14:27.042 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 18:14:27.045 +05:30 [INF] Request finished in 255.2441ms 401 
2021-04-25 18:14:28.805 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:14:28.813 +05:30 [INF] Authorization failed.
2021-04-25 18:14:28.820 +05:30 [INF] Successfully validated the token.
2021-04-25 18:14:28.823 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 18:14:28.827 +05:30 [INF] Request finished in 21.7893ms 401 
2021-04-25 18:14:30.162 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:14:30.170 +05:30 [INF] Authorization failed.
2021-04-25 18:14:30.173 +05:30 [INF] Successfully validated the token.
2021-04-25 18:14:30.176 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 18:14:30.180 +05:30 [INF] Request finished in 17.9024ms 401 
2021-04-25 18:16:16.747 +05:30 [INF] User profile is available. Using 'C:\Users\AMITANAND\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-25 18:16:17.140 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2021-04-25 18:16:17.146 +05:30 [INF] Hosting environment: Development
2021-04-25 18:16:17.152 +05:30 [INF] Content root path: D:\Projects\DotNetCore.WebAPI.Authentication\DotNetCore.WebAPI.Authentication\TokenBasedAuthentication
2021-04-25 18:16:17.181 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:16:17.206 +05:30 [WRN] Failed to determine the https port for redirect.
2021-04-25 18:16:17.271 +05:30 [INF] Authorization failed.
2021-04-25 18:16:17.345 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 18:16:17.372 +05:30 [INF] Request finished in 194.2422ms 401 
2021-04-25 18:16:27.870 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:16:27.878 +05:30 [INF] Authorization failed.
2021-04-25 18:16:28.123 +05:30 [INF] Successfully validated the token.
2021-04-25 18:16:28.128 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 18:16:28.133 +05:30 [INF] Request finished in 263.6478ms 401 
2021-04-25 18:16:50.322 +05:30 [INF] User profile is available. Using 'C:\Users\AMITANAND\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-25 18:16:50.755 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2021-04-25 18:16:50.761 +05:30 [INF] Hosting environment: Development
2021-04-25 18:16:50.765 +05:30 [INF] Content root path: D:\Projects\DotNetCore.WebAPI.Authentication\DotNetCore.WebAPI.Authentication\TokenBasedAuthentication
2021-04-25 18:16:50.796 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:16:50.825 +05:30 [WRN] Failed to determine the https port for redirect.
2021-04-25 18:16:50.894 +05:30 [INF] Authorization failed.
2021-04-25 18:16:50.999 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 18:16:51.025 +05:30 [INF] Request finished in 232.8895ms 401 
2021-04-25 18:16:55.240 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:16:55.246 +05:30 [INF] Authorization failed.
2021-04-25 18:16:55.500 +05:30 [INF] Successfully validated the token.
2021-04-25 18:16:55.505 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 18:16:55.509 +05:30 [INF] Request finished in 269.3923ms 401 
2021-04-25 18:17:54.280 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/SignIn application/json 62
2021-04-25 18:17:54.292 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 18:17:54.355 +05:30 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(TokenBasedAuthentication.Models.SignIn) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 18:17:57.189 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 18:17:57.696 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 18:17:57.931 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-04-25 18:18:00.174 +05:30 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-04-25 18:18:00.201 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication) in 5834.7555ms
2021-04-25 18:18:00.206 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 18:18:00.215 +05:30 [INF] Request finished in 5935.3907ms 200 application/json; charset=utf-8
2021-04-25 18:18:43.221 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:18:43.227 +05:30 [INF] Authorization failed.
2021-04-25 18:18:43.234 +05:30 [INF] Successfully validated the token.
2021-04-25 18:18:43.237 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 18:18:43.240 +05:30 [INF] Request finished in 19.7734ms 401 
2021-04-25 18:39:04.259 +05:30 [INF] User profile is available. Using 'C:\Users\AMITANAND\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-25 18:39:04.720 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2021-04-25 18:39:04.725 +05:30 [INF] Hosting environment: Development
2021-04-25 18:39:04.730 +05:30 [INF] Content root path: D:\Projects\DotNetCore.WebAPI.Authentication\DotNetCore.WebAPI.Authentication\TokenBasedAuthentication
2021-04-25 18:39:04.755 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:39:04.776 +05:30 [WRN] Failed to determine the https port for redirect.
2021-04-25 18:39:04.834 +05:30 [INF] Authorization failed.
2021-04-25 18:39:05.395 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 18:39:05.418 +05:30 [INF] Request finished in 666.8557ms 401 
2021-04-25 18:39:20.011 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/Register application/json 109
2021-04-25 18:39:20.017 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync (TokenBasedAuthentication)'
2021-04-25 18:39:20.093 +05:30 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterAsync(TokenBasedAuthentication.Models.Register) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 18:39:23.601 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 18:39:24.067 +05:30 [INF] Executed DbCommand (73ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 18:39:26.357 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 18:39:26.569 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2021-04-25 18:39:26.623 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-04-25 18:39:26.649 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2021-04-25 18:39:26.662 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-04-25 18:39:26.687 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2021-04-25 18:39:26.694 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-04-25 18:39:26.714 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 18:39:26.742 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([UserId], [RoleId])
VALUES (@p0, @p1);
2021-04-25 18:39:26.748 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;
2021-04-25 18:39:26.762 +05:30 [INF] Executing ObjectResult, writing value of type 'TokenBasedAuthentication.Models.BaseResponse'.
2021-04-25 18:39:26.782 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync (TokenBasedAuthentication) in 6677.121ms
2021-04-25 18:39:26.787 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.RegisterAsync (TokenBasedAuthentication)'
2021-04-25 18:39:26.795 +05:30 [INF] Request finished in 6784.1432ms 200 application/json; charset=utf-8
2021-04-25 18:40:28.030 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/SignIn application/json 58
2021-04-25 18:40:28.035 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 18:40:28.056 +05:30 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(TokenBasedAuthentication.Models.SignIn) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 18:40:29.825 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 18:40:29.833 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 18:40:29.927 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-04-25 18:40:32.938 +05:30 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-04-25 18:40:32.945 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication) in 4886.0676ms
2021-04-25 18:40:32.949 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 18:40:32.952 +05:30 [INF] Request finished in 4922.8723ms 200 application/json; charset=utf-8
2021-04-25 18:41:36.792 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:41:36.804 +05:30 [INF] Authorization failed.
2021-04-25 18:41:36.878 +05:30 [INF] Successfully validated the token.
2021-04-25 18:41:36.882 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 18:41:36.885 +05:30 [INF] Request finished in 92.2294ms 401 
2021-04-25 18:41:51.061 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:41:51.065 +05:30 [INF] Authorization failed.
2021-04-25 18:41:51.070 +05:30 [INF] Successfully validated the token.
2021-04-25 18:41:51.073 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 18:41:51.076 +05:30 [INF] Request finished in 15.4807ms 401 
2021-04-25 18:41:53.942 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:41:53.946 +05:30 [INF] Authorization failed.
2021-04-25 18:41:53.949 +05:30 [INF] Successfully validated the token.
2021-04-25 18:41:53.952 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 18:41:53.955 +05:30 [INF] Request finished in 12.3604ms 401 
2021-04-25 18:46:48.303 +05:30 [INF] User profile is available. Using 'C:\Users\AMITANAND\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-25 18:46:48.664 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2021-04-25 18:46:48.668 +05:30 [INF] Hosting environment: Development
2021-04-25 18:46:48.674 +05:30 [INF] Content root path: D:\Projects\DotNetCore.WebAPI.Authentication\DotNetCore.WebAPI.Authentication\TokenBasedAuthentication
2021-04-25 18:46:48.699 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:46:48.839 +05:30 [INF] Authorization failed.
2021-04-25 18:46:48.855 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 18:46:48.879 +05:30 [INF] Request finished in 183.0367ms 401 
2021-04-25 18:46:54.021 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:46:54.252 +05:30 [INF] Successfully validated the token.
2021-04-25 18:46:54.256 +05:30 [INF] Authorization was successful.
2021-04-25 18:46:54.259 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 18:46:54.290 +05:30 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[TokenBasedAuthentication.Models.WeatherForecast] Get() on controller TokenBasedAuthentication.Controllers.WeatherForecastController (TokenBasedAuthentication).
2021-04-25 18:46:57.769 +05:30 [INF] Executing ObjectResult, writing value of type 'TokenBasedAuthentication.Models.WeatherForecast[]'.
2021-04-25 18:46:57.854 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication) in 3548.4152ms
2021-04-25 18:46:57.859 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 18:46:57.863 +05:30 [INF] Request finished in 3842.828ms 200 application/json; charset=utf-8
2021-04-25 18:47:38.232 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/SignIn application/json 62
2021-04-25 18:47:38.237 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 18:47:38.263 +05:30 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(TokenBasedAuthentication.Models.SignIn) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 18:47:41.190 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 18:47:41.676 +05:30 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 18:47:41.908 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-04-25 18:47:46.052 +05:30 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-04-25 18:47:46.061 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication) in 7794.1053ms
2021-04-25 18:47:46.065 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 18:47:46.075 +05:30 [INF] Request finished in 7842.9705ms 200 application/json; charset=utf-8
2021-04-25 18:48:02.607 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:48:02.614 +05:30 [INF] Successfully validated the token.
2021-04-25 18:48:02.618 +05:30 [INF] Authorization failed.
2021-04-25 18:48:02.626 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2021-04-25 18:48:02.632 +05:30 [INF] Request finished in 25.881ms 403 
2021-04-25 18:48:23.298 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:48:23.303 +05:30 [INF] Successfully validated the token.
2021-04-25 18:48:23.306 +05:30 [INF] Authorization was successful.
2021-04-25 18:48:23.308 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 18:48:23.310 +05:30 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[TokenBasedAuthentication.Models.WeatherForecast] Get() on controller TokenBasedAuthentication.Controllers.WeatherForecastController (TokenBasedAuthentication).
2021-04-25 18:48:23.313 +05:30 [INF] Executing ObjectResult, writing value of type 'TokenBasedAuthentication.Models.WeatherForecast[]'.
2021-04-25 18:48:23.317 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication) in 3.9358ms
2021-04-25 18:48:23.320 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 18:48:23.323 +05:30 [INF] Request finished in 25.9118ms 200 application/json; charset=utf-8
2021-04-25 18:48:36.109 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:48:36.114 +05:30 [INF] Successfully validated the token.
2021-04-25 18:48:36.117 +05:30 [INF] Authorization was successful.
2021-04-25 18:48:36.121 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 18:48:36.124 +05:30 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[TokenBasedAuthentication.Models.WeatherForecast] Get() on controller TokenBasedAuthentication.Controllers.WeatherForecastController (TokenBasedAuthentication).
2021-04-25 18:48:36.127 +05:30 [INF] Executing ObjectResult, writing value of type 'TokenBasedAuthentication.Models.WeatherForecast[]'.
2021-04-25 18:48:36.131 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication) in 4.0542ms
2021-04-25 18:48:36.134 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 18:48:36.139 +05:30 [INF] Request finished in 29.803ms 200 application/json; charset=utf-8
2021-04-25 18:49:03.100 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:49:03.105 +05:30 [INF] Successfully validated the token.
2021-04-25 18:49:03.109 +05:30 [INF] Authorization was successful.
2021-04-25 18:49:03.112 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 18:49:03.115 +05:30 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[TokenBasedAuthentication.Models.WeatherForecast] Get() on controller TokenBasedAuthentication.Controllers.WeatherForecastController (TokenBasedAuthentication).
2021-04-25 18:49:03.118 +05:30 [INF] Executing ObjectResult, writing value of type 'TokenBasedAuthentication.Models.WeatherForecast[]'.
2021-04-25 18:49:03.122 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication) in 3.6062ms
2021-04-25 18:49:03.128 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 18:49:03.131 +05:30 [INF] Request finished in 30.6951ms 200 application/json; charset=utf-8
2021-04-25 18:49:15.382 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:49:15.388 +05:30 [INF] Successfully validated the token.
2021-04-25 18:49:15.392 +05:30 [INF] Authorization was successful.
2021-04-25 18:49:15.395 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 18:49:15.398 +05:30 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[TokenBasedAuthentication.Models.WeatherForecast] Get() on controller TokenBasedAuthentication.Controllers.WeatherForecastController (TokenBasedAuthentication).
2021-04-25 18:49:17.503 +05:30 [INF] Executing ObjectResult, writing value of type 'TokenBasedAuthentication.Models.WeatherForecast[]'.
2021-04-25 18:49:17.522 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication) in 2120.2467ms
2021-04-25 18:49:17.535 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 18:49:17.539 +05:30 [INF] Request finished in 2156.864ms 200 application/json; charset=utf-8
2021-04-25 18:49:20.621 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:49:20.629 +05:30 [INF] Successfully validated the token.
2021-04-25 18:49:20.632 +05:30 [INF] Authorization was successful.
2021-04-25 18:49:20.635 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 18:49:20.638 +05:30 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[TokenBasedAuthentication.Models.WeatherForecast] Get() on controller TokenBasedAuthentication.Controllers.WeatherForecastController (TokenBasedAuthentication).
2021-04-25 18:49:22.376 +05:30 [INF] Executing ObjectResult, writing value of type 'TokenBasedAuthentication.Models.WeatherForecast[]'.
2021-04-25 18:49:22.406 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication) in 1765.1ms
2021-04-25 18:49:22.416 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 18:49:22.420 +05:30 [INF] Request finished in 1799.0584ms 200 application/json; charset=utf-8
2021-04-25 18:49:38.256 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:49:38.260 +05:30 [INF] Successfully validated the token.
2021-04-25 18:49:38.263 +05:30 [INF] Authorization was successful.
2021-04-25 18:49:38.266 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 18:49:38.268 +05:30 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[TokenBasedAuthentication.Models.WeatherForecast] Get() on controller TokenBasedAuthentication.Controllers.WeatherForecastController (TokenBasedAuthentication).
2021-04-25 18:49:51.443 +05:30 [INF] Executing ObjectResult, writing value of type 'TokenBasedAuthentication.Models.WeatherForecast[]'.
2021-04-25 18:49:51.449 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication) in 13177.2765ms
2021-04-25 18:49:51.453 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 18:49:51.459 +05:30 [INF] Request finished in 13201.9485ms 200 application/json; charset=utf-8
2021-04-25 18:50:09.779 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/SignIn application/json 62
2021-04-25 18:50:09.783 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 18:50:09.786 +05:30 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(TokenBasedAuthentication.Models.SignIn) on controller TokenBasedAuthentication.Controllers.AuthenticationController (TokenBasedAuthentication).
2021-04-25 18:50:12.069 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 18:50:12.078 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 18:50:12.106 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-04-25 18:50:13.617 +05:30 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-04-25 18:50:13.624 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication) in 3834.3967ms
2021-04-25 18:50:13.627 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.AuthenticationController.SignInAsync (TokenBasedAuthentication)'
2021-04-25 18:50:13.631 +05:30 [INF] Request finished in 3851.8925ms 200 application/json; charset=utf-8
2021-04-25 18:50:29.301 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:50:29.305 +05:30 [INF] Successfully validated the token.
2021-04-25 18:50:29.308 +05:30 [INF] Authorization failed.
2021-04-25 18:50:29.311 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2021-04-25 18:50:29.314 +05:30 [INF] Request finished in 12.9075ms 403 
2021-04-25 18:50:33.022 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:50:33.026 +05:30 [INF] Successfully validated the token.
2021-04-25 18:50:33.032 +05:30 [INF] Authorization failed.
2021-04-25 18:50:33.036 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2021-04-25 18:50:33.039 +05:30 [INF] Request finished in 17.1173ms 403 
2021-04-25 18:50:43.064 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:50:43.068 +05:30 [INF] Successfully validated the token.
2021-04-25 18:50:43.071 +05:30 [INF] Authorization failed.
2021-04-25 18:50:43.073 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2021-04-25 18:50:43.076 +05:30 [INF] Request finished in 12.0561ms 403 
2021-04-25 18:51:10.990 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:51:10.994 +05:30 [INF] Successfully validated the token.
2021-04-25 18:51:10.998 +05:30 [INF] Authorization was successful.
2021-04-25 18:51:11.000 +05:30 [INF] Executing endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 18:51:11.003 +05:30 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[TokenBasedAuthentication.Models.WeatherForecast] Get() on controller TokenBasedAuthentication.Controllers.WeatherForecastController (TokenBasedAuthentication).
2021-04-25 18:51:12.762 +05:30 [INF] Executing ObjectResult, writing value of type 'TokenBasedAuthentication.Models.WeatherForecast[]'.
2021-04-25 18:51:12.776 +05:30 [INF] Executed action TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication) in 1770.5488ms
2021-04-25 18:51:12.792 +05:30 [INF] Executed endpoint 'TokenBasedAuthentication.Controllers.WeatherForecastController.Get (TokenBasedAuthentication)'
2021-04-25 18:51:12.795 +05:30 [INF] Request finished in 1805.2824ms 200 application/json; charset=utf-8
2021-04-25 18:51:25.059 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 18:51:25.064 +05:30 [INF] Successfully validated the token.
2021-04-25 18:51:25.068 +05:30 [INF] Authorization failed.
2021-04-25 18:51:25.071 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2021-04-25 18:51:25.074 +05:30 [INF] Request finished in 14.458ms 403 
2021-04-25 21:19:32.839 +05:30 [INF] User profile is available. Using 'C:\Users\AMITANAND\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-04-25 21:19:34.763 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2021-04-25 21:19:34.768 +05:30 [INF] Hosting environment: Development
2021-04-25 21:19:34.773 +05:30 [INF] Content root path: D:\Projects\DotNetCore.Microservices\DotNetCore.Microservices\DotNetCore.Microservices.Authentication
2021-04-25 21:19:34.918 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 21:19:35.587 +05:30 [INF] Authorization failed.
2021-04-25 21:19:35.595 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2021-04-25 21:19:35.760 +05:30 [INF] Request finished in 849.1587ms 401 
2021-04-25 21:20:00.690 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 21:20:01.379 +05:30 [INF] Successfully validated the token.
2021-04-25 21:20:01.383 +05:30 [INF] Authorization failed.
2021-04-25 21:20:01.387 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2021-04-25 21:20:01.391 +05:30 [INF] Request finished in 700.5385ms 403 
2021-04-25 21:20:12.600 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 21:20:12.607 +05:30 [INF] Successfully validated the token.
2021-04-25 21:20:12.611 +05:30 [INF] Authorization was successful.
2021-04-25 21:20:12.614 +05:30 [INF] Executing endpoint 'DotNetCore.Microservices.Authentication.Controllers.WeatherForecastController.Get (DotNetCore.Microservices.Authentication)'
2021-04-25 21:20:12.690 +05:30 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[DotNetCore.Microservices.Authentication.Models.WeatherForecast] Get() on controller DotNetCore.Microservices.Authentication.Controllers.WeatherForecastController (DotNetCore.Microservices.Authentication).
2021-04-25 21:20:12.700 +05:30 [INF] Executing ObjectResult, writing value of type 'DotNetCore.Microservices.Authentication.Models.WeatherForecast[]'.
2021-04-25 21:20:12.780 +05:30 [INF] Executed action DotNetCore.Microservices.Authentication.Controllers.WeatherForecastController.Get (DotNetCore.Microservices.Authentication) in 80.6663ms
2021-04-25 21:20:12.783 +05:30 [INF] Executed endpoint 'DotNetCore.Microservices.Authentication.Controllers.WeatherForecastController.Get (DotNetCore.Microservices.Authentication)'
2021-04-25 21:20:12.786 +05:30 [INF] Request finished in 186.6729ms 200 application/json; charset=utf-8
2021-04-25 21:20:29.492 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:50430/weatherforecast  
2021-04-25 21:20:29.498 +05:30 [INF] Successfully validated the token.
2021-04-25 21:20:29.501 +05:30 [INF] Authorization was successful.
2021-04-25 21:20:29.503 +05:30 [INF] Executing endpoint 'DotNetCore.Microservices.Authentication.Controllers.WeatherForecastController.Get (DotNetCore.Microservices.Authentication)'
2021-04-25 21:20:29.507 +05:30 [INF] Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[DotNetCore.Microservices.Authentication.Models.WeatherForecast] Get() on controller DotNetCore.Microservices.Authentication.Controllers.WeatherForecastController (DotNetCore.Microservices.Authentication).
2021-04-25 21:20:32.021 +05:30 [INF] Executing ObjectResult, writing value of type 'DotNetCore.Microservices.Authentication.Models.WeatherForecast[]'.
2021-04-25 21:20:32.043 +05:30 [INF] Executed action DotNetCore.Microservices.Authentication.Controllers.WeatherForecastController.Get (DotNetCore.Microservices.Authentication) in 2533.8521ms
2021-04-25 21:20:32.052 +05:30 [INF] Executed endpoint 'DotNetCore.Microservices.Authentication.Controllers.WeatherForecastController.Get (DotNetCore.Microservices.Authentication)'
2021-04-25 21:20:32.057 +05:30 [INF] Request finished in 2564.3953ms 200 application/json; charset=utf-8
2021-04-25 21:20:40.944 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/SignIn application/json 60
2021-04-25 21:20:40.948 +05:30 [INF] Executing endpoint 'DotNetCore.Microservices.Authentication.Controllers.AuthenticationController.SignInAsync (DotNetCore.Microservices.Authentication)'
2021-04-25 21:20:41.064 +05:30 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(DotNetCore.Microservices.Authentication.Models.SignIn) on controller DotNetCore.Microservices.Authentication.Controllers.AuthenticationController (DotNetCore.Microservices.Authentication).
2021-04-25 21:20:42.436 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 21:20:42.916 +05:30 [INF] Executed DbCommand (67ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 21:20:43.112 +05:30 [WRN] Invalid password for user e3465ec6-d996-4578-97f6-00eb1d195eea.
2021-04-25 21:20:43.118 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-04-25 21:20:43.136 +05:30 [INF] Executed action DotNetCore.Microservices.Authentication.Controllers.AuthenticationController.SignInAsync (DotNetCore.Microservices.Authentication) in 2066.0456ms
2021-04-25 21:20:43.140 +05:30 [INF] Executed endpoint 'DotNetCore.Microservices.Authentication.Controllers.AuthenticationController.SignInAsync (DotNetCore.Microservices.Authentication)'
2021-04-25 21:20:43.148 +05:30 [INF] Request finished in 2203.9971ms 401 application/problem+json; charset=utf-8
2021-04-25 21:21:12.276 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:50430/api/Authentication/SignIn application/json 62
2021-04-25 21:21:12.281 +05:30 [INF] Executing endpoint 'DotNetCore.Microservices.Authentication.Controllers.AuthenticationController.SignInAsync (DotNetCore.Microservices.Authentication)'
2021-04-25 21:21:12.284 +05:30 [INF] Route matched with {action = "SignIn", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignInAsync(DotNetCore.Microservices.Authentication.Models.SignIn) on controller DotNetCore.Microservices.Authentication.Controllers.AuthenticationController (DotNetCore.Microservices.Authentication).
2021-04-25 21:21:14.434 +05:30 [INF] Entity Framework Core 3.1.5 initialized 'ApplicationDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-04-25 21:21:14.447 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-04-25 21:21:14.575 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-04-25 21:21:14.606 +05:30 [INF] User Signed In - Username : development
2021-04-25 21:21:14.629 +05:30 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-04-25 21:21:14.634 +05:30 [INF] Executed action DotNetCore.Microservices.Authentication.Controllers.AuthenticationController.SignInAsync (DotNetCore.Microservices.Authentication) in 2346.5649ms
2021-04-25 21:21:14.637 +05:30 [INF] Executed endpoint 'DotNetCore.Microservices.Authentication.Controllers.AuthenticationController.SignInAsync (DotNetCore.Microservices.Authentication)'
2021-04-25 21:21:14.641 +05:30 [INF] Request finished in 2364.8806ms 200 application/json; charset=utf-8
